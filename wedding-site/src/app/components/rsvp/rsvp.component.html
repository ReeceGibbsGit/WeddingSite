<div class="rsvp">
  <ng-content></ng-content>
  <ng-container *ngIf="inviteDetails; else inviteNotFound">
    <ul class="rsvp__guest-list list-group">
      <li
        *ngFor="let guest of inviteDetails.guests"
        class="list-group-item d-flex justify-content-between align-items-center"
      >
        <span
          [ngClass]="{
            'striked-out': guest.isComing === false
          }"
          class="rsvp__guest-list-item"
          >{{ guest.name }}</span
        >
        <div>
          <app-button
            [ngClass]="{
              hidden: guest.isComing
            }"
            class="rsvp__guest-list-btn"
            type="success"
            [size]="(isSmallDevice$ | async) ? 'small' : 'medium'"
            (clickEvent)="handleGuestChange(guest.id)"
            >Re-add</app-button
          >
          <app-button
            [ngClass]="{
              hidden: guest.isComing === false
            }"
            class="rsvp__guest-list-btn"
            type="failure"
            [size]="(isSmallDevice$ | async) ? 'small' : 'medium'"
            (clickEvent)="handleGuestChange(guest.id, true)"
            >Remove</app-button
          >
        </div>
      </li>
    </ul>
    <div class="rsvp__responses">
      <app-button
        [ngClass]="{
          hidden: isPositiveRsvp === false
        }"
        type="success"
        [size]="(isSmallDevice$ | async) ? 'small' : 'medium'"
        >RSVP Yes</app-button
      >
      <app-button
        [ngClass]="{
          hidden: isPositiveRsvp
        }"
        type="failure"
        [size]="(isSmallDevice$ | async) ? 'small' : 'medium'"
        >RSVP No</app-button
      >
    </div>
  </ng-container>
</div>

<ng-template #inviteNotFound>
  <p class="error">
    Oops... It looks like something went wrong. Please contact Reece or Gee with
    your RSVP directly.
  </p>
</ng-template>
